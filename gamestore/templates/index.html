{% extends "base.html" %}
{% load static %}

{% block title %}Django Reinhardt's Game Store{% endblock %}

{% block body %}
    <div class="container">
        {% for game in object_list %}
            <div class="row">
                <div class="col-md-12">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <h2 class="panel-title"><a href="{% url "game" game.id %}">{{ game.name }}</a></h2>
                        </div>
                        {% if game.cover %}
                            <div class="panel-body" style="text-align: center;">
                                <img src="{{ game.cover.url }}" class="img img-responsive" alt="Game Cover">
                            </div>
                        {% endif %}
                        {% if game.scores %}
                            <div class="panel-body">
                                <h3>Leaderboard</h3>
                                {% for score in game.scores|dictsortreversed:"value" %}
                                    <p>#{{ forloop.counter }}: {{ score.value }} by <b>{{ score.player }}</b></p>
                                {% endfor %}
                            </div>
                        {% endif %}
                        <div class="panel-footer">
                            <h4>Developer: {{ game.developer }}</h4>
                        </div>
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
{% endblock %}
